'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var datePattern = /(\d+\|\d+\|\d+)/;

var determiners = {
  age: function age(metadata) {
    if (!metadata.birth_date) {
      return;
    }
    var matches = metadata.birth_date.match(datePattern);
    if (!matches) {
      return;
    }
    var birthDate = (0, _moment2.default)(matches[1], 'YYYY|MM|DD');
    return (0, _moment2.default)().diff(birthDate, 'years');
  }
};

exports.default = determiners;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9kZXRlcm1pbmVycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBRUEsSUFBTSxjQUFjLGlCQUFwQjs7QUFFQSxJQUFNLGNBQWM7QUFDbEIsT0FBSyx1QkFBWTtBQUNmLFFBQUksQ0FBQyxTQUFTLFVBQWQsRUFBMEI7QUFDeEI7QUFDRDtBQUNELFFBQU0sVUFBVSxTQUFTLFVBQVQsQ0FBb0IsS0FBcEIsQ0FBMEIsV0FBMUIsQ0FBaEI7QUFDQSxRQUFJLENBQUMsT0FBTCxFQUFjO0FBQ1o7QUFDRDtBQUNELFFBQU0sWUFBWSxzQkFBTyxRQUFRLENBQVIsQ0FBUCxFQUFtQixZQUFuQixDQUFsQjtBQUNBLFdBQU8sd0JBQVMsSUFBVCxDQUFjLFNBQWQsRUFBeUIsT0FBekIsQ0FBUDtBQUNEO0FBWGlCLENBQXBCOztrQkFjZSxXIiwiZmlsZSI6ImRldGVybWluZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5jb25zdCBkYXRlUGF0dGVybiA9IC8oXFxkK1xcfFxcZCtcXHxcXGQrKS87XG5cbmNvbnN0IGRldGVybWluZXJzID0ge1xuICBhZ2U6IG1ldGFkYXRhID0+IHtcbiAgICBpZiAoIW1ldGFkYXRhLmJpcnRoX2RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2hlcyA9IG1ldGFkYXRhLmJpcnRoX2RhdGUubWF0Y2goZGF0ZVBhdHRlcm4pO1xuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBiaXJ0aERhdGUgPSBtb21lbnQobWF0Y2hlc1sxXSwgJ1lZWVl8TU18REQnKTtcbiAgICByZXR1cm4gbW9tZW50KCkuZGlmZihiaXJ0aERhdGUsICd5ZWFycycpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBkZXRlcm1pbmVycztcbiJdfQ==